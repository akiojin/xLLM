---
description: "機能実装用タスクリストテンプレート"
---

# タスク: [機能名]

**入力**: `/specs/SPEC-[UUID8桁]/` の設計ドキュメント
**前提条件**: plan.md (必須), spec.md (ユーザーストーリーに必須), research.md, data-model.md, contracts/

**テスト**: 以下の例にはテストタスクが含まれています。テストはオプションです - 機能仕様で明示的に要求された場合のみ含めてください。

**構成**: タスクはユーザーストーリーごとにグループ化され、各ストーリーの独立した実装とテストを可能にします。

## フォーマット: `[ID] [P?] [Story] 説明`

- **[P]**: 並列実行可能 (異なるファイル、依存関係なし)
- **[Story]**: このタスクが属するユーザーストーリー (例: US1, US2, US3)
- 説明には正確なファイルパスを含める

## パス規約

- **単一プロジェクト**: リポジトリルートの `src/`, `tests/`
- **Webアプリ**: `backend/src/`, `frontend/src/`
- **モバイル**: `api/src/`, `ios/src/` または `android/src/`
- 以下のパスは単一プロジェクトを前提 - plan.mdの構造に基づいて調整

<!--
  ============================================================================
  重要: 以下のタスクは説明目的のサンプルタスクです。

  /speckit.tasks コマンドは以下に基づいて実際のタスクに置き換える必要があります:
  - spec.mdのユーザーストーリー (優先度 P1, P2, P3...)
  - plan.mdの機能要件
  - data-model.mdのエンティティ
  - contracts/のエンドポイント

  タスクは各ストーリーが以下を可能にするようにユーザーストーリーごとに整理される必要があります:
  - 独立して実装可能
  - 独立してテスト可能
  - MVPインクリメントとしてデリバリー可能

  生成されたtasks.mdファイルにこれらのサンプルタスクを残さないでください。
  ============================================================================
-->

## Phase 1: セットアップ (共有インフラ)

**目的**: プロジェクト初期化と基本構造

- [ ] T001 実装計画に従ってプロジェクト構造を作成
- [ ] T002 [フレームワーク]依存関係で[言語]プロジェクトを初期化
- [ ] T003 [P] リンティングとフォーマットツールを構成

---

## Phase 2: 基盤 (ブロッキング前提条件)

**目的**: どのユーザーストーリーも実装できるようになる前に完了しなければならないコアインフラ

**⚠️ 重要**: このフェーズが完了するまで、ユーザーストーリーの作業は開始できません

基盤タスクの例 (プロジェクトに応じて調整):

- [ ] T004 データベーススキーマとマイグレーションフレームワークのセットアップ
- [ ] T005 [P] 認証/認可フレームワークの実装
- [ ] T006 [P] APIルーティングとミドルウェア構造のセットアップ
- [ ] T007 すべてのストーリーが依存する基本モデル/エンティティの作成
- [ ] T008 エラーハンドリングとロギングインフラの構成
- [ ] T009 環境設定管理のセットアップ

**チェックポイント**: 基盤準備完了 - ユーザーストーリー実装が並列で開始可能になりました

---

## Phase 3: ユーザーストーリー1 - [タイトル] (優先度: P1) 🎯 MVP

**目標**: [このストーリーが提供するものの簡単な説明]

**独立テスト**: [このストーリーが単独で動作することを検証する方法]

### ユーザーストーリー1のテスト (オプション - テスト要求時のみ) ⚠️

> **注意: これらのテストを最初に書き、実装前に失敗することを確認**

- [ ] T010 [P] [US1] tests/contract/test_[name].pyに[エンドポイント]のcontract test
- [ ] T011 [P] [US1] tests/integration/test_[name].pyに[ユーザージャーニー]のintegration test

### ユーザーストーリー1の実装

- [ ] T012 [P] [US1] src/models/[entity1].pyに[Entity1]モデルを作成
- [ ] T013 [P] [US1] src/models/[entity2].pyに[Entity2]モデルを作成
- [ ] T014 [US1] src/services/[service].pyに[Service]を実装 (T012, T013に依存)
- [ ] T015 [US1] src/[location]/[file].pyに[エンドポイント/機能]を実装
- [ ] T016 [US1] バリデーションとエラーハンドリングを追加
- [ ] T017 [US1] ユーザーストーリー1操作のロギングを追加

**チェックポイント**: この時点でユーザーストーリー1は完全に機能し、独立してテスト可能であるべき

---

## Phase 4: ユーザーストーリー2 - [タイトル] (優先度: P2)

**目標**: [このストーリーが提供するものの簡単な説明]

**独立テスト**: [このストーリーが単独で動作することを検証する方法]

### ユーザーストーリー2のテスト (オプション - テスト要求時のみ) ⚠️

- [ ] T018 [P] [US2] tests/contract/test_[name].pyに[エンドポイント]のcontract test
- [ ] T019 [P] [US2] tests/integration/test_[name].pyに[ユーザージャーニー]のintegration test

### ユーザーストーリー2の実装

- [ ] T020 [P] [US2] src/models/[entity].pyに[Entity]モデルを作成
- [ ] T021 [US2] src/services/[service].pyに[Service]を実装
- [ ] T022 [US2] src/[location]/[file].pyに[エンドポイント/機能]を実装
- [ ] T023 [US2] ユーザーストーリー1コンポーネントとの統合 (必要な場合)

**チェックポイント**: この時点でユーザーストーリー1と2の両方が独立して動作するべき

---

## Phase 5: ユーザーストーリー3 - [タイトル] (優先度: P3)

**目標**: [このストーリーが提供するものの簡単な説明]

**独立テスト**: [このストーリーが単独で動作することを検証する方法]

### ユーザーストーリー3のテスト (オプション - テスト要求時のみ) ⚠️

- [ ] T024 [P] [US3] tests/contract/test_[name].pyに[エンドポイント]のcontract test
- [ ] T025 [P] [US3] tests/integration/test_[name].pyに[ユーザージャーニー]のintegration test

### ユーザーストーリー3の実装

- [ ] T026 [P] [US3] src/models/[entity].pyに[Entity]モデルを作成
- [ ] T027 [US3] src/services/[service].pyに[Service]を実装
- [ ] T028 [US3] src/[location]/[file].pyに[エンドポイント/機能]を実装

**チェックポイント**: すべてのユーザーストーリーが独立して機能するべき

---

[必要に応じて同じパターンでユーザーストーリーフェーズを追加]

---

## Phase N: 仕上げ＆横断的関心事

**目的**: 複数のユーザーストーリーに影響する改善

- [ ] TXXX [P] docs/のドキュメント更新
- [ ] TXXX コードクリーンアップとリファクタリング
- [ ] TXXX すべてのストーリーにわたるパフォーマンス最適化
- [ ] TXXX [P] 追加ユニットテスト (要求された場合) tests/unit/
- [ ] TXXX セキュリティ強化
- [ ] TXXX quickstart.md検証を実行

---

## 依存関係＆実行順序

### フェーズ依存関係

- **セットアップ (Phase 1)**: 依存関係なし - すぐに開始可能
- **基盤 (Phase 2)**: セットアップ完了に依存 - すべてのユーザーストーリーをブロック
- **ユーザーストーリー (Phase 3+)**: すべて基盤フェーズ完了に依存
  - ユーザーストーリーは並列で進行可能 (人員がいれば)
  - または優先度順に順次進行 (P1 → P2 → P3)
- **仕上げ (最終フェーズ)**: 必要なすべてのユーザーストーリー完了に依存

### ユーザーストーリー依存関係

- **ユーザーストーリー1 (P1)**: 基盤 (Phase 2) 後に開始可能 - 他のストーリーへの依存なし
- **ユーザーストーリー2 (P2)**: 基盤 (Phase 2) 後に開始可能 - US1と統合することがあるが、独立してテスト可能であるべき
- **ユーザーストーリー3 (P3)**: 基盤 (Phase 2) 後に開始可能 - US1/US2と統合することがあるが、独立してテスト可能であるべき

### 各ユーザーストーリー内

- テスト (含まれる場合) は実装前に書いて失敗しなければならない
- モデルはサービスより先
- サービスはエンドポイントより先
- コア実装は統合より先
- 次の優先度に移る前にストーリー完了

### 並列機会

- [P]マークのすべてのセットアップタスクは並列実行可能
- [P]マークのすべての基盤タスクは並列実行可能 (Phase 2内)
- 基盤フェーズ完了後、すべてのユーザーストーリーは並列開始可能 (チーム能力があれば)
- ユーザーストーリーの[P]マークのすべてのテストは並列実行可能
- ストーリー内の[P]マークのモデルは並列実行可能
- 異なるユーザーストーリーは異なるチームメンバーが並列で作業可能

---

## 並列実行例: ユーザーストーリー1

```bash
# ユーザーストーリー1のすべてのテストを一緒に起動 (テスト要求時):
Task: "tests/contract/test_[name].pyに[エンドポイント]のcontract test"
Task: "tests/integration/test_[name].pyに[ユーザージャーニー]のintegration test"

# ユーザーストーリー1のすべてのモデルを一緒に起動:
Task: "src/models/[entity1].pyに[Entity1]モデルを作成"
Task: "src/models/[entity2].pyに[Entity2]モデルを作成"
```

---

## 実装戦略

### MVPファースト (ユーザーストーリー1のみ)

1. Phase 1: セットアップを完了
2. Phase 2: 基盤を完了 (重要 - すべてのストーリーをブロック)
3. Phase 3: ユーザーストーリー1を完了
4. **停止して検証**: ユーザーストーリー1を独立してテスト
5. 準備ができればデプロイ/デモ

### インクリメンタルデリバリー

1. セットアップ + 基盤を完了 → 基盤準備完了
2. ユーザーストーリー1を追加 → 独立してテスト → デプロイ/デモ (MVP!)
3. ユーザーストーリー2を追加 → 独立してテスト → デプロイ/デモ
4. ユーザーストーリー3を追加 → 独立してテスト → デプロイ/デモ
5. 各ストーリーが以前のストーリーを壊さずに価値を追加

### 並列チーム戦略

複数の開発者がいる場合:

1. チームでセットアップ + 基盤を一緒に完了
2. 基盤が完了したら:
   - 開発者A: ユーザーストーリー1
   - 開発者B: ユーザーストーリー2
   - 開発者C: ユーザーストーリー3
3. ストーリーが独立して完了・統合

---

## 注意事項

- [P]タスク = 異なるファイル、依存関係なし
- [Story]ラベルはタスクを特定のユーザーストーリーにマッピング（トレーサビリティ用）
- 各ユーザーストーリーは独立して完了・テスト可能であるべき
- 実装前にテストが失敗することを確認
- 各タスクまたは論理グループ後にコミット
- 任意のチェックポイントで停止してストーリーを独立して検証
- 回避: 曖昧なタスク、同じファイルの競合、独立性を壊すストーリー間依存
